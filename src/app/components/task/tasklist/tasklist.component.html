<div class="container" id="lista">
    <div class="row">
        <div class="col-md-12">
            <h3>Listado de Tareas</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Descripcion</th>
                        <th scope="col">Prioridad</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Fecha Expiracion</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let task of taskList">
                        <ng-container *ngIf="!task.isDelete">
                            <th scope="row">{{ task.id }}</th>
                            <td>{{ task.name }}</td>
                            <td>{{ task.description }}</td>
                            <td [ngClass]="{
                                'table-danger': task.priority === 'H',
                                'table-warning': task.priority === 'M',
                                'table-success': task.priority === 'L'
                              }">
                                <!--Iconos de flechas-->
                                <i *ngIf="(task.priority === 'M' || task.priority === 'L') && task.status !== 'C'"
                                    class="bi bi-arrow-up-circle-fill" ></i>
                                <i *ngIf="(task.priority === 'H' || task.priority === 'M') && task.status !== 'C'"
                                    class="bi bi-arrow-down-circle-fill"></i>

                                <ng-container [ngSwitch]="task.priority">
                                    <span *ngSwitchCase="'H'">Alta</span>
                                    <span *ngSwitchCase="'M'">Media</span>
                                    <span *ngSwitchCase="'L'">Baja</span>
                                </ng-container>
                 
                            </td>
                            <td [ngClass]="{
                                'table-danger': task.status === 'P',
                                'table-warning': task.status === 'IP',
                                'table-success': task.status === 'C'
                              }" [ngSwitch]="task.status">
                                <span *ngSwitchCase="'C'">
                                    <i class="bi bi-arrow-return-right"></i>Completada
                                </span>
                                <span *ngSwitchCase="'IP'">
                                    <i class="bi bi-check-lg"></i>En proceso
                                </span>
                                <span *ngSwitchCase="'P'">
                                    <i class="bi bi-play-fill"></i>Pendiente
                                </span>
                            </td>
                            <td>{{ task.expirationDate }}</td>
                            <td class="d-flex justify-content-center">
                                <i class="bi bi-pencil-square" ></i>
                                <i class="bi bi-trash" (click)="deleteTask(task.id)"></i>
                            </td>
                        </ng-container>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>